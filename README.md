# Code Readme

This code consists of functions that utilize the OpenAI ChatCompletion API to automate the process of generating docstrings and comments for Python code, as well as creating a README markdown document for the provided code.

## Prerequisites
- An OpenAI API key, which needs to be set as an environment variable named `OPENAI_API_KEY`.
- The `openai`, `os`, and `pathlib` Python libraries need to be installed.

## Functionality and Usage

### `num_tokens_from_string`
- Returns the number of tokens in a given text string using the `tiktoken` package.
- **Parameters**:
  - `string` (str): The text string for which tokens will be counted.
  - `encoding_name` (str): The name of the encoding to be used (default is "cl100k_base").

### `run_openai`
- Executes OpenAI ChatCompletion based on the input messages, incorporating the `num_tokens_from_string` function to determine the maximum tokens allowed.
- **Parameters**:
  - `messages` (list): A list of system and user messages.
- **Returns**:
  - `str`: The response message generated by OpenAI.

### `openai_messages`
- Constructs a list of system and user messages for OpenAI ChatCompletion.
- **Parameters**:
  - `system_message` (str): Message from the system.
  - `user_message` (str): Message from the user.
- **Returns**:
  - `list`: A list of dictionaries containing system and user messages.

### `read_python_file`
- Reads the content of a Python file and returns it as a string.
- **Parameters**:
  - `file_path` (str): The path of the Python file to be read.
- **Returns**:
  - `str`: The content of the Python file.

### `save_to_python_file`
- Generates docstrings and adds comments to the provided Python code, and saves the modified code to a Python file.
- **Parameters**:
  - `code` (str): The Python code that needs to be modified with docstrings and comments.
  - `python_file_path` (str): The path where the modified Python code will be saved.

### `save_markdown_readme`
- Utilizes OpenAI ChatCompletion to create a README markdown document for the provided code, and saves it to a file.
- **Parameters**:
  - `code` (str): The Python code with docstrings and comments that will be used to create the README.
  - `readme_path` (str): The path where the README file will be saved.

## Design and Important Considerations
- The code utilizes the OpenAI ChatCompletion API and the `tiktoken` package for encoding.
- Prompt messages for OpenAI ChatCompletion are provided by the `markdown_document_prompt` and `docstring_generator_prompt` functions.

## Known Issues and Future Improvements
- Currently, the code does not handle exceptions related to the OpenAI API or other potential errors.
- Enhancements can be made to provide more granular control over the docstring generation process, allowing for customization of output styles and comment templates.

---
By following the instructions provided, this code can be leveraged to automate the generation of docstrings and comments for Python code, as well as the creation of README markdown documents, ultimately simplifying the documentation process for developers.